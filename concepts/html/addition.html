<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
</head><body>
<p>Have an array of single pieces, each one representing a level of the tree. When a piece fills up with hashes, get its hash and carry upward just like addition. Thus you can build a hash tree with at most maxPieceSize*depth bytes. Depth being <4 usually.</p>
<p>Extraction can be done like subtraction similarly, but it's easier and better to just use lazy recursion (aka deferreds).</p>
<p><a href=".">So anyway back to email</a></p>
</body></html>
